!function r(e,t,n){function o(c,l){if(!t[c]){if(!e[c]){var a="function"==typeof require&&require;if(!l&&a)return a(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var s=t[c]={exports:{}};e[c][0].call(s.exports,function(r){var t=e[c][1][r];return o(t?t:r)},s,s.exports,r,e,t,n)}return t[c].exports}for(var i="function"==typeof require&&require,c=0;c<n.length;c++)o(n[c]);return o}({1:[function(r,e,t){!function(){"use strict";var e=r("./services/board"),t=r("./controllers/BoardCtrl"),n=r("./controllers/ScoreCtrl"),o=r("./directives/selectTile"),i=r("./directives/clearBoard"),c=r("./directives/scoreUpdate"),l=angular.module("ticTacToe",[]);l.factory("board",e),l.controller("BoardCtrl",["board",t]),l.controller("ScoreCtrl",n),l.directive("selectTile",["board","$rootScope",o]),l.directive("clearBoard",i),l.directive("scoreUpdate",c)}()},{"./controllers/BoardCtrl":2,"./controllers/ScoreCtrl":3,"./directives/clearBoard":4,"./directives/scoreUpdate":5,"./directives/selectTile":6,"./services/board":7}],2:[function(r,e,t){e.exports=function(r){"use strict";var e=this;e.board=r,e.gameOpen=!0,e.currentPlayer="X",e.switchPlayers=function(){"X"===e.currentPlayer?e.currentPlayer="O":"O"===e.currentPlayer&&(e.currentPlayer="X")},e.gameOver=function(){e.gameOpen=!1,e.board=r},e.gameWin=function(){e.gameOver()},e.resetBoard=function(){e.gameOpen=!0;for(var r=0;r<e.board.length;r++)e.board[r].mark=null,e.board[r].isWinTile=!1;e.switchPlayers()}}},{}],3:[function(r,e,t){e.exports=function(){"use strict";var r=this;r.scoreX=0,r.scoreO=0,r.scoreTie=0,r.addScore=function(e){r["score"+e]+=1}}},{}],4:[function(r,e,t){e.exports=function(){"use strict";return{restrict:"A",link:function(r,e){e.on("click",function(){var r=document.getElementById("board");angular.element(r).children().removeClass("board__tile--X board__tile--O")})}}}},{}],5:[function(r,e,t){e.exports=function(){"use strict";return{restrict:"A",link:function(r,e,t,n){r.$on("updateScore",function(e,t){r.$apply(function(){r.score.addScore(t)})})}}}},{}],6:[function(r,e,t){e.exports=function(r,e){"use strict";return{restrict:"A",link:function(t,n){n.on("click",function(o){var i=t.$parent.board;if(i.gameOpen){var c=i.currentPlayer,l=n.attr("data-tile-num");if(r.isTileEmpty(l)){r.setMark(l,c),n.addClass("board__tile--"+c);var a=r.checkResult(c);"win"===a?(i.gameOver(),e.$broadcast("updateScore",c)):"tie"===a?(i.gameOver(),e.$broadcast("updateScore","Tie")):t.$apply(function(){i.switchPlayers()})}}})}}}},{}],7:[function(r,e,t){e.exports=function(){"use strict";var r=[{row:0,col:0,mark:null,isWinTile:!1},{row:0,col:1,mark:null,isWinTile:!1},{row:0,col:2,mark:null,isWinTile:!1},{row:1,col:0,mark:null,isWinTile:!1},{row:1,col:1,mark:null,isWinTile:!1},{row:1,col:2,mark:null,isWinTile:!1},{row:2,col:0,mark:null,isWinTile:!1},{row:2,col:1,mark:null,isWinTile:!1},{row:2,col:2,mark:null,isWinTile:!1}];return r.setMark=function(r,e){this[r].mark=e},r.isTileEmpty=function(r){return null===this[r].mark},r.getMarkLocations=function(r){for(var e=this,t=[],n=0;n<e.length;n++)e[n].mark===r&&t.push(e[n]);return t},r.checkResult=function(r){var e=this,t=e.checkWin(r);if(Object.keys(t).length>0){for(var n in t)t[n].forEach(function(r){for(var t=0;t<e.length;t++)r.$$hashKey===e[t].$$hashKey&&(e[t].isWinTile=!0)});return"win"}var o=e.getFilledTilesCount();return 9===o?"tie":"progress"},r.checkWin=function(r){var e=this,t={},n=e.getMarkLocations(r);return n.length>2&&(t={rowResult:e.checkRows(n),colResult:e.checkCols(n),topDiagResult:e.checkTopDiag(n),bottomDiagResult:e.checkBottomDiag(n)},t=function(){var r={};for(var e in t)3===t[e].length&&(r[e]=t[e]);return r}()),t},r.getFilledTilesCount=function(){var r=this,e=r.getMarkLocations("X"),t=r.getMarkLocations("O");return e.length+t.length},r.checkRows=function(r){for(var e=[],t=0;t<r.length&&(0!==t&&r[t].row!==r[t-1].row&&(e=[]),e.push(r[t]),3!==e.length);t++);return e},r.checkCols=function(r){r.sort(function(r,e){return r.col>e.col});for(var e=[],t=0;t<r.length&&(0!==t&&r[t].col!==r[t-1].col&&(e=[]),e.push(r[t]),3!==e.length);t++);return e},r.checkTopDiag=function(r){for(var e=[],t=0;t<r.length;t++)r[t].row===r[t].col&&e.push(r[t]);return e},r.checkBottomDiag=function(r){for(var e=[],t=0;t<r.length;t++)r[t].row+r[t].col===2&&e.push(r[t]);return e},r}},{}]},{},[1]);